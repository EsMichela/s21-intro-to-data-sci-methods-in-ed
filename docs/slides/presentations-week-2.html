<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Week 2: Foundational Skills</title>
    <meta charset="utf-8" />
    <meta name="author" content="Joshua Rosenberg, Alex Lishinski" />
    <meta name="date" content="2021-01-28" />
    <script src="libs/header-attrs-2.6/header-attrs.js"></script>
    <link rel="stylesheet" href="theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Week 2: Foundational Skills
### Joshua Rosenberg, Alex Lishinski
### January 28, 2021

---


# Welcome!

Welcome to *week 2*!

Great job last week. 

We now feel like we have a set of **high expectations to meet** and be 
held to. If you have any anxiety, rest assured that we do, too, but we believe 
we can do fun and ambitious things this semester. 

---

# Course organization

- [Website](https://making-data-science-count.github.io/s21-intro-to-data-sci-methods-in-ed/)
  - Syllabus
  - Presentations
  - Homework
  - Videos (recordings of class and about specific topics)
  
- Slack: https://datascienceinedu.slack.com/home
- Zoom: https://tennessee.zoom.us/j/98262405076

- Email: jrosenb8@utk.edu and alishins@utk.edu

---

# Breakout rooms!

Starting with whomever had the most sleep last night... 

- Remind base group members of your name (and, if you like, your program)
- What was one “win” you had from the homework?
- What was one challenge you had from the homework?

(10 minutes)

---

# Foundational R skills

A general framework for you to use as a foundation and as a set of concepts to help you work through the class.

The four core concepts we will use to build our framework are:

1. Projects
1. Packages
1. Data
1. Functions

You will use each of these in most of your analyses with R.

---

# Course text

&lt;img src="https://datascienceineducation.com/dsieur-cover-routledge.jpg" width="30%" style="display: block; margin: auto;" /&gt;

http://datascienceineducation.com/

https://github.com/data-edu/data-science-in-education

---

## 1. Projects

Working Directories 


```r
getwd() 
```

```
## [1] "/Users/joshuarosenberg/s21-intro-to-data-sci-methods-in-ed/docs/slides"
```

R Projects 

Project options are saved in .Rproj file

The here package helps you to navigate around in a project:


```r
library(here)

# data file
here("data", "fall=2018-data-file.csv")
```

```
## [1] "/Users/joshuarosenberg/s21-intro-to-data-sci-methods-in-ed/data/fall=2018-data-file.csv"
```

---

# 2. Packages

1. What are packages? 
  + Code bundles that add functionality to R
  + Examples: ggplot2, dplyr, rtweet, quanteda, lme4
1. Where do we get packages?
  + CRAN or GitHub
1. How do we install packages?
  + install.packages("pkg-name")
1. How do we know what packages to use?
  + Searching 
  + People and news related to R (more later - there are *tons*)
  + CRAN task views
1. How do we use packages?
  + `library(pkgname)`

---

# Installing another package

Tidyverse, a collection of R packages.

https://www.tidyverse.org/

Install via the following (do this now):


```r
install.packages("tidyverse")
```

What issues have arisen?

---

# 3. Data

So far, we have used *built-in data*. There is a lot of built-in data!

Loading different types of data

Comma-seperated values (.csv)


```r
library(readr)
readr::read_csv(here("data", "filename.csv"))
```

---

## Data 

.xlsx


```r
library(readxl)
read_excel((here("data", "schedule.xlsx")))
```

---

## SPSS

.sav


```r
library(haven)
read_sav((here("data:, file-name.sav")))
```

---

## Other data sources

Google Sheets


```r
library(googlesheets4)
```

Web


```r
read_csv("https://github.com/data-edu/dataedu/raw/master/data-raw/wt01_online-science-motivation/raw/s12-course-data.csv")
```

---

# 4. Functions

- A function is a reusable piece of code that allows us to consistently repeat a programming task

- Functions in R can be identified by a word followed by a set of parentheses, like so: `word()`. 

More often than not, the word is a verb, such as `filter()`, suggesting that we’re about to perform an action. 

Indeed, functions act like verbs: they tell R what to do with our data.

The parentheses are where we can provide arguments to a function.

---

# Functions

- What is the name of the *package* used below?
- What is the name of the *data* used below?
- What is the name of the function used below?*


```r
library(dplyr)
#mtcars
glimpse(mtcars)
```

---

# Basic programming operators

`select()`


```r
library(dplyr)

storms %&gt;% 
  select(name, year, month, day, hour, status)
```

```
## # A tibble: 10,010 x 6
##    name   year month   day  hour status             
##    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;              
##  1 Amy    1975     6    27     0 tropical depression
##  2 Amy    1975     6    27     6 tropical depression
##  3 Amy    1975     6    27    12 tropical depression
##  4 Amy    1975     6    27    18 tropical depression
##  5 Amy    1975     6    28     0 tropical depression
##  6 Amy    1975     6    28     6 tropical depression
##  7 Amy    1975     6    28    12 tropical depression
##  8 Amy    1975     6    28    18 tropical depression
##  9 Amy    1975     6    29     0 tropical storm     
## 10 Amy    1975     6    29     6 tropical storm     
## # … with 10,000 more rows
```

---

`filter()`


```r
library(dplyr)

storms %&gt;% 
  filter(month == 8)
```

```
## # A tibble: 2,400 x 13
##    name      year month   day  hour   lat  long status              category  wind pressure ts_diameter hu_diameter
##    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;               &lt;ord&gt;    &lt;int&gt;    &lt;int&gt;       &lt;dbl&gt;       &lt;dbl&gt;
##  1 Caroline  1975     8    24    12  22.4 -69.8 tropical depression -1          25     1011          NA          NA
##  2 Caroline  1975     8    24    18  21.9 -71.1 tropical depression -1          25     1011          NA          NA
##  3 Caroline  1975     8    25     0  21.6 -72.5 tropical depression -1          25     1010          NA          NA
##  4 Caroline  1975     8    25     6  21.2 -73.8 tropical depression -1          25     1010          NA          NA
##  5 Caroline  1975     8    25    12  20.9 -75.1 tropical depression -1          25     1011          NA          NA
##  6 Caroline  1975     8    25    18  20.6 -76.4 tropical depression -1          25     1011          NA          NA
##  7 Caroline  1975     8    26     0  20.4 -77.7 tropical depression -1          25     1011          NA          NA
##  8 Caroline  1975     8    26     6  20.3 -79   tropical depression -1          25     1011          NA          NA
##  9 Caroline  1975     8    26    12  20.2 -80.3 tropical depression -1          25     1012          NA          NA
## 10 Caroline  1975     8    26    18  20.2 -81.6 tropical depression -1          25     1012          NA          NA
## # … with 2,390 more rows
```

---

`arrange()`


```r
library(dplyr)

storms %&gt;% 
  arrange(hour)
```

```
## # A tibble: 10,010 x 13
##    name      year month   day  hour   lat  long status              category  wind pressure ts_diameter hu_diameter
##    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;               &lt;ord&gt;    &lt;int&gt;    &lt;int&gt;       &lt;dbl&gt;       &lt;dbl&gt;
##  1 Amy       1975     6    27     0  27.5 -79   tropical depression -1          25     1013          NA          NA
##  2 Amy       1975     6    28     0  31.5 -78.8 tropical depression -1          25     1012          NA          NA
##  3 Amy       1975     6    29     0  34.4 -75.8 tropical storm      0           35     1004          NA          NA
##  4 Amy       1975     6    30     0  34.3 -71.6 tropical storm      0           50      998          NA          NA
##  5 Amy       1975     7     1     0  36.2 -69.8 tropical storm      0           60      984          NA          NA
##  6 Amy       1975     7     2     0  37.4 -66.7 tropical storm      0           60      984          NA          NA
##  7 Amy       1975     7     3     0  37.7 -62.8 tropical storm      0           55      986          NA          NA
##  8 Amy       1975     7     4     0  42.5 -54.8 tropical storm      0           50      986          NA          NA
##  9 Caroline  1975     8    25     0  21.6 -72.5 tropical depression -1          25     1010          NA          NA
## 10 Caroline  1975     8    26     0  20.4 -77.7 tropical depression -1          25     1011          NA          NA
## # … with 10,000 more rows
```

---

# Putting it together


```r
storms %&gt;% 
  select(name, year, month, day, hour, status) %&gt;% 
  filter(month == 8) %&gt;% 
  arrange(hour)
```

```
## # A tibble: 2,400 x 6
##    name      year month   day  hour status             
##    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;              
##  1 Caroline  1975     8    25     0 tropical depression
##  2 Caroline  1975     8    26     0 tropical depression
##  3 Caroline  1975     8    27     0 tropical depression
##  4 Caroline  1975     8    28     0 tropical depression
##  5 Caroline  1975     8    29     0 tropical depression
##  6 Caroline  1975     8    30     0 hurricane          
##  7 Caroline  1975     8    31     0 hurricane          
##  8 Doris     1975     8    30     0 tropical storm     
##  9 Doris     1975     8    31     0 hurricane          
## 10 Belle     1976     8     7     0 tropical storm     
## # … with 2,390 more rows
```

---

Assignment operator


```r
storms_in_august &lt;- storms %&gt;% 
  select(name, year, month, day, hour, status) %&gt;% 
  filter(month == 8) %&gt;% 
  arrange(hour)
```

---

Assignment operator




---

# Basic programming operators

Math


```r
x &lt;- 3 * 4
x
```

```
## [1] 12
```

```r
y &lt;- 2 + 3 -1
y
```

```
## [1] 4
```

```r
z &lt;- 4 / 2 ** 3
```

---

# Basic programming operators

Logic


```r
x &lt;- TRUE
y &lt;- FALSE
# and
x &amp; y
```

```
## [1] FALSE
```

```r
# or 
x | y
```

```
## [1] TRUE
```

```r
# not 
!x
```

```
## [1] FALSE
```


---

# Basic programming operators

Subsetting and accessing objects


```r
library(dplyr)
# cols by name
mtcars %&gt;% 
  select(mpg, cyl, hp)
```

```
##                      mpg cyl  hp
## Mazda RX4           21.0   6 110
## Mazda RX4 Wag       21.0   6 110
## Datsun 710          22.8   4  93
## Hornet 4 Drive      21.4   6 110
## Hornet Sportabout   18.7   8 175
## Valiant             18.1   6 105
## Duster 360          14.3   8 245
## Merc 240D           24.4   4  62
## Merc 230            22.8   4  95
## Merc 280            19.2   6 123
## Merc 280C           17.8   6 123
## Merc 450SE          16.4   8 180
## Merc 450SL          17.3   8 180
## Merc 450SLC         15.2   8 180
## Cadillac Fleetwood  10.4   8 205
## Lincoln Continental 10.4   8 215
## Chrysler Imperial   14.7   8 230
## Fiat 128            32.4   4  66
## Honda Civic         30.4   4  52
## Toyota Corolla      33.9   4  65
## Toyota Corona       21.5   4  97
## Dodge Challenger    15.5   8 150
## AMC Javelin         15.2   8 150
## Camaro Z28          13.3   8 245
## Pontiac Firebird    19.2   8 175
## Fiat X1-9           27.3   4  66
## Porsche 914-2       26.0   4  91
## Lotus Europa        30.4   4 113
## Ford Pantera L      15.8   8 264
## Ferrari Dino        19.7   6 175
## Maserati Bora       15.0   8 335
## Volvo 142E          21.4   4 109
```

```r
#mtcars
# variables in data frame or tibble
mtcars$mpg
```

```
##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0
## [28] 30.4 15.8 19.7 15.0 21.4
```

```r
mtcars$cyl
```

```
##  [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4
```

```r
mtcars$hp
```

```
##  [1] 110 110  93 110 175 105 245  62  95 123 123 180 180 180 205 215 230  66  52  65  97 150 150 245 175  66  91 113 264 175 335 109
```

```r
# rows by index
mtcars[1:10,]
```

```
##                    mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360        14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D         24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230          22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280          19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
```

```r
# rows by condition
dplyr::filter(mtcars, mpg &lt; 20)
```

```
##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
```

```r
# cols by number
mtcars[,c(1,2,4)]
```

```
##                      mpg cyl  hp
## Mazda RX4           21.0   6 110
## Mazda RX4 Wag       21.0   6 110
## Datsun 710          22.8   4  93
## Hornet 4 Drive      21.4   6 110
## Hornet Sportabout   18.7   8 175
## Valiant             18.1   6 105
## Duster 360          14.3   8 245
## Merc 240D           24.4   4  62
## Merc 230            22.8   4  95
## Merc 280            19.2   6 123
## Merc 280C           17.8   6 123
## Merc 450SE          16.4   8 180
## Merc 450SL          17.3   8 180
## Merc 450SLC         15.2   8 180
## Cadillac Fleetwood  10.4   8 205
## Lincoln Continental 10.4   8 215
## Chrysler Imperial   14.7   8 230
## Fiat 128            32.4   4  66
## Honda Civic         30.4   4  52
## Toyota Corolla      33.9   4  65
## Toyota Corona       21.5   4  97
## Dodge Challenger    15.5   8 150
## AMC Javelin         15.2   8 150
## Camaro Z28          13.3   8 245
## Pontiac Firebird    19.2   8 175
## Fiat X1-9           27.3   4  66
## Porsche 914-2       26.0   4  91
## Lotus Europa        30.4   4 113
## Ford Pantera L      15.8   8 264
## Ferrari Dino        19.7   6 175
## Maserati Bora       15.0   8 335
## Volvo 142E          21.4   4 109
```

---

# Breakout rooms


```r
library(dplyr)

storms
```

```
## # A tibble: 10,010 x 13
##    name   year month   day  hour   lat  long status              category  wind pressure ts_diameter hu_diameter
##    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;               &lt;ord&gt;    &lt;int&gt;    &lt;int&gt;       &lt;dbl&gt;       &lt;dbl&gt;
##  1 Amy    1975     6    27     0  27.5 -79   tropical depression -1          25     1013          NA          NA
##  2 Amy    1975     6    27     6  28.5 -79   tropical depression -1          25     1013          NA          NA
##  3 Amy    1975     6    27    12  29.5 -79   tropical depression -1          25     1013          NA          NA
##  4 Amy    1975     6    27    18  30.5 -79   tropical depression -1          25     1013          NA          NA
##  5 Amy    1975     6    28     0  31.5 -78.8 tropical depression -1          25     1012          NA          NA
##  6 Amy    1975     6    28     6  32.4 -78.7 tropical depression -1          25     1012          NA          NA
##  7 Amy    1975     6    28    12  33.3 -78   tropical depression -1          25     1011          NA          NA
##  8 Amy    1975     6    28    18  34   -77   tropical depression -1          30     1006          NA          NA
##  9 Amy    1975     6    29     0  34.4 -75.8 tropical storm      0           35     1004          NA          NA
## 10 Amy    1975     6    29     6  34   -74.8 tropical storm      0           40     1002          NA          NA
## # … with 10,000 more rows
```

Use `dplyr::select()`, `dplyr::filter()`, and `dplyr::arrange()`.

Create a new R Markdown document.

---

# Syllabus Discussion

1. Big project - topics, proposals 
1. Assignment details
1. Videos
1. Cleaning data
1. Social media / textual data / qualitative data

---

## Readings

Two assigned readings for the next week:

- Data Science in Education Using R (DSIEUR) chapter #3: https://datascienceineducation.com/c03.html
- Grammar of Graphics: http://vita.had.co.nz/papers/layered-grammar.pdf

---

## Coming up

### This week

- Readings (by next class; Thursday, 2/4)
- HW2
- Optional office hours (Tuesday, 2/2, 4-4:30 pm; same Zoom room)

### Next week

- Exam 1

---

# Wrapping up

In your base group's Slack channel:

- What is one thing you took away from today?
- What is something you want to learn more about? 
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
